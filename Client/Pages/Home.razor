@page "/"
@inject IClickOnceAppInfoProvider ClickOnceAppInfoProvider

<div class="jumbo-tron">
    <p>"ClickOnce Get" is a web site for publishing your ClickOnce applications.</p>
</div>

<div class="apps-list">
    @foreach (var app in Apps)
    {
        <ClickOnceApp AppInfo="app" />
    }
</div>


@code {
    private IEnumerable<ClickOnceAppInfo> Apps = Enumerable.Empty<ClickOnceAppInfo>();

    protected override async Task OnInitializedAsync()
    {
        this.Apps = await this.ClickOnceAppInfoProvider.GetAllAppsAsync();
    }
}